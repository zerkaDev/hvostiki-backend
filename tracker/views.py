from django.conf import settings
from drf_spectacular.types import OpenApiTypes
from drf_spectacular.utils import extend_schema, OpenApiResponse, OpenApiExample, extend_schema_view, OpenApiParameter
from rest_framework import status, permissions, viewsets
from rest_framework.decorators import action
from rest_framework.views import APIView
from rest_framework.response import Response
from django.utils import timezone
from django.core.cache import cache
import random
import logging

from rest_framework_simplejwt.exceptions import TokenError
from rest_framework_simplejwt.tokens import RefreshToken

from tracker.models import User, Pet
from tracker.serializers import (
    PhoneNumberSerializer,
    VerifyCodeSerializer,
    UserSerializer, PetSerializer, PetCreateSerializer, ErrorResponseSerializer, TokenResponseSerializer,
    RefreshTokenSerializer,
)
from tracker.tasks import send_confirmation_code

logger = logging.getLogger(__name__)


class SendCodeView(APIView):
    """
        –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –Ω–∞ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞

        –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –Ω–æ–º–µ—Ä ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–æ–¥ ‚Üí –∂–¥–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

        **–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**
        1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–ª—Å—è –ª–∏ –∫–æ–¥ –≤ –ø–æ—Å–ª–µ–¥–Ω—é—é –º–∏–Ω—É—Ç—É
        2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 4-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥
        3. –°–æ–∑–¥–∞–µ—Ç/–æ–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∫–æ–¥–æ–º
        4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–¥ —á–µ—Ä–µ–∑ SMS (–≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ)
        5. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–∞–π–º–∞—É—Ç –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
        """
    permission_classes = [permissions.AllowAny]

    @extend_schema(
        tags=["–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è"],
        summary="–û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è",
        description="""
            –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç SMS —Å –∫–æ–¥–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞.

            **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
            - –ö–æ–¥ –º–æ–∂–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –Ω–µ —á–∞—â–µ 1 —Ä–∞–∑–∞ –≤ –º–∏–Ω—É—Ç—É
            - –í —Ä–µ–∂–∏–º–µ DEBUG –∫–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –æ—Ç–≤–µ—Ç–µ
            - –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∫–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ SMS —Å–µ—Ä–≤–∏—Å
            """,
        request=PhoneNumberSerializer,
        responses={
            200: OpenApiResponse(
                response=OpenApiTypes.OBJECT,
                description="–ö–æ–¥ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω",
                examples=[
                    OpenApiExample(
                        "–£—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞",
                        value={
                            "detail": "–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω",
                            "phone_number": "+79991234567",
                            "resend_timeout": 60
                        }
                    )
                ]
            ),
            400: OpenApiResponse(
                response=OpenApiTypes.OBJECT,
                description="–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞",
                examples=[
                    OpenApiExample(
                        "–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏",
                        value={
                            "phone_number": [
                                "–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞."
                            ]
                        }
                    )
                ]
            ),
            429: OpenApiResponse(
                response=OpenApiTypes.OBJECT,
                description="–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤",
                examples=[
                    OpenApiExample(
                        "–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞",
                        value={
                            "error": "–ö–æ–¥ —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —á–µ—Ä–µ–∑ 1 –º–∏–Ω—É—Ç—É."
                        }
                    )
                ]
            )
        },
        examples=[
            OpenApiExample(
                "–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞",
                value={"phone_number": "+79991234567"},
                request_only=True
            )
        ]
    )
    def post(self, request):
        serializer = PhoneNumberSerializer(data=request.data)
        if not serializer.is_valid():
            return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)
        phone_number = serializer.validated_data['phone_number']

        cache_key = f"code_sent_{phone_number}"
        if cache.get(cache_key):
            return Response({
                "error": "–ö–æ–¥ —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —á–µ—Ä–µ–∑ 1 –º–∏–Ω—É—Ç—É."
            }, status=status.HTTP_429_TOO_MANY_REQUESTS)

        code = str(random.randint(1000, 9999))

        user = User.objects.filter(phone_number=phone_number).first()
        if not user:
            # –°–æ–∑–¥–∞–µ–º –Ω–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
             User.objects.create_user(
                phone_number=phone_number,
                confirmation_code=code,
                code_sent_at=timezone.now(),
                is_verified=False
            )
        else:
            # –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–¥ —É —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            user.confirmation_code = code
            user.code_sent_at = timezone.now()
            user.code_attempts = 0
            user.save(update_fields=['confirmation_code', 'code_sent_at', 'code_attempts'])

        if not settings.DEBUG:
            send_confirmation_code.delay(phone_number, code)

        logger.info(f"–ö–æ–¥ {code} –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –Ω–æ–º–µ—Ä {phone_number}")

        cache.set(cache_key, True, timeout=60)

        return Response({
            "detail": "–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω",
            "phone_number": phone_number,
            "resend_timeout": 60
        }, status=status.HTTP_200_OK)



class VerifyCodeView(APIView):
    """
    –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

    –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –∫–æ–¥ ‚Üí —Å–æ–∑–¥–∞–µ–º/–∞–≤—Ç–æ—Ä–∏–∑—É–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ç–æ–∫–µ–Ω

    **–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**
    1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–¥ —á–µ—Ä–µ–∑ VerifyCodeSerializer
    2. –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ –±—ã–ª –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω)
    3. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç JWT —Ç–æ–∫–µ–Ω—ã (access –∏ refresh)
    4. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –∏—Å—Ç–µ—á–µ–Ω–∏–∏
    """
    permission_classes = [permissions.AllowAny]

    @extend_schema(
        tags=["–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è"],
        summary="–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫–æ–¥–∞",
        description="""
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.
        
        **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
        - –ö–æ–¥ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 10 –º–∏–Ω—É—Ç
        - –ü–æ—Å–ª–µ 5 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –∞–∫–∫–∞—É–Ω—Ç –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –Ω–∞ 15 –º–∏–Ω—É—Ç
        - –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è (is_verified=True)
        - –î–ª—è –¥–µ–±–∞–≥–∞ –º–æ–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ 1234 —á—Ç–æ–±—ã –ø—Ä–æ–π—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫—É
        """,
        request=VerifyCodeSerializer,
        responses={
            200: OpenApiResponse(
                response=OpenApiTypes.OBJECT,
                description="–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω, —Ç–æ–∫–µ–Ω—ã –ø–æ–ª—É—á–µ–Ω—ã",
                examples=[
                    OpenApiExample(
                        "–£—Å–ø–µ—à–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è",
                        value={
                            "refresh": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
                            "access": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
                            "access_expires": 1736000000,
                            "refresh_expires": 1736000000
                        }
                    )
                ]
            ),
            400: OpenApiResponse(
                response=OpenApiTypes.OBJECT,
                description="–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –∏–ª–∏ –Ω–æ–º–µ—Ä",
                examples=[
                    OpenApiExample(
                        "–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥",
                        value={
                            "code": ["–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è."]
                        }
                    ),
                    OpenApiExample(
                        "–ò—Å—Ç–µ–∫ —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è",
                        value={
                            "non_field_errors": ["–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∫–æ–¥–∞ –∏—Å—Ç–µ–∫."]
                        }
                    )
                ]
            ),
            403: OpenApiResponse(
                response=OpenApiTypes.OBJECT,
                description="–ê–∫–∫–∞—É–Ω—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω",
                examples=[
                    OpenApiExample(
                        "–ü—Ä–µ–≤—ã—à–µ–Ω—ã –ø–æ–ø—ã—Ç–∫–∏",
                        value={
                            "error": "–ê–∫–∫–∞—É–Ω—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —á–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç."
                        }
                    )
                ]
            )
        },
        examples=[
            OpenApiExample(
                "–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞",
                value={
                    "phone_number": "+79991234567",
                    "code": "1234"
                },
                request_only=True
            )
        ]
    )
    def post(self, request):
        serializer = VerifyCodeSerializer(data=request.data)

        if not serializer.is_valid():
            return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)

        user = serializer.validated_data['user']

        refresh = RefreshToken.for_user(user)

        return Response({
            "refresh": str(refresh),
            "access": str(refresh.access_token),
            "access_expires": refresh.access_token.payload['exp'],
            "refresh_expires": refresh.payload['exp']
        })


class ProfileView(APIView):
    """–†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ—Ñ–∏–ª–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
    permission_classes = [permissions.IsAuthenticated]

    def get(self, request):
        """–ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
        serializer = UserSerializer(request.user)
        return Response(serializer.data)


@extend_schema(
    tags=["–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è"],
)
class LogoutView(APIView):
    """–í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã"""
    permission_classes = [permissions.IsAuthenticated]

    def post(self, request):
        # –£–¥–∞–ª—è–µ–º —Ç–æ–∫–µ–Ω
        RefreshToken.for_user(request.user).blacklist()

        return Response({
            "detail": "–í—ã—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ"
        })

@extend_schema_view(
    list=extend_schema(
        summary='–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–∏—Ç–æ–º—Ü–µ–≤',
        description='–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–∏—Ç–æ–º—Ü–µ–≤ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',
        tags=['pets'],
        responses={
            200: PetSerializer(many=True),
            401: OpenApiTypes.OBJECT,
        }
    ),
    create=extend_schema(
        summary='–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞',
        description='–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞ —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é',
        tags=['pets'],
        request=PetCreateSerializer,
        responses={
            201: PetSerializer,
            400: OpenApiTypes.OBJECT,
            401: OpenApiTypes.OBJECT,
        },
        examples=[
            OpenApiExample(
                '–£—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ',
                value={
                    "id": 1,
                    "owner": "username",
                    "owner_id": 1,
                    "name": "–ë–∞—Ä—Å–∏–∫",
                    "pet_type": "cat",
                    "pet_type_display": "–ö–æ—à–∫–∞",
                    "breed": "–°–∏–∞–º—Å–∫–∞—è",
                    "weight": "4.50",
                    "birthday": '2024-01-15',
                    "color":
                        """–ù–∞–≤–∞—Ä–∏–ª –¥–µ—Ä–µ–≤–µ–Ω—Å–∫–æ–≥–æ —Å–∞–º–æ–≥–æ–Ω–∞ –ù–∞–≤–∞—Ä–∏–ª –¥–µ—Ä–µ–≤–µ–Ω—Å–∫–æ–≥–æ —Å–∞–º–æ–≥–æ–Ω–∞ –ù–∞–≤–∞—Ä–∏–ª –¥–µ—Ä–µ–≤–µ–Ω—Å–∫–æ–≥–æ —Å–∞–º–æ–≥–æ–Ω–∞ (–≠-—ç-—É-—É) –ë—Ä–∞–≥–∏ –¥–≤–∞ –±–∏–¥–æ–Ω–∞""",
                    "image": None,
                    "image_url": None,
                    "created_at": "2024-01-15T10:30:00Z",
                    "updated_at": "2024-01-15T10:30:00Z"
                },
                response_only=True,
                status_codes=['201'],
            ),
        ]
    ),
    retrieve=extend_schema(
        summary='–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–∏—Ç–æ–º—Ü–µ',
        description='–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –ø–∏—Ç–æ–º—Ü–µ',
        tags=['pets'],
        parameters=[
            OpenApiParameter(
                name='id',
                type=OpenApiTypes.INT,
                location=OpenApiParameter.PATH,
                description='ID –ø–∏—Ç–æ–º—Ü–∞'
            ),
        ],
        responses={
            200: PetSerializer,
            404: OpenApiTypes.OBJECT,
        }
    ),
    update=extend_schema(
        summary='–û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–∏—Ç–æ–º—Ü–µ',
        description='–ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–∏—Ç–æ–º—Ü–µ',
        tags=['pets'],
        request=PetCreateSerializer,
        responses={
            200: PetSerializer,
            400: OpenApiTypes.OBJECT,
            404: OpenApiTypes.OBJECT,
        }
    ),
    partial_update=extend_schema(
        summary='–ß–∞—Å—Ç–∏—á–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–∏—Ç–æ–º—Ü–µ',
        description='–ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–∏—Ç–æ–º—Ü–µ',
        tags=['pets'],
        request=PetCreateSerializer,
        responses={
            200: PetSerializer,
            400: OpenApiTypes.OBJECT,
            404: OpenApiTypes.OBJECT,
        }
    ),
    destroy=extend_schema(
        summary='–£–¥–∞–ª–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞',
        description='–£–¥–∞–ª–µ–Ω–∏–µ –ø–∏—Ç–æ–º—Ü–∞ –ø–æ ID',
        tags=['pets'],
        responses={
            204: None,
            404: OpenApiTypes.OBJECT,
        }
    ),
)
class PetViewSet(viewsets.ModelViewSet):
    """
    ViewSet –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∏—Ç–æ–º—Ü–∞–º–∏.
    """
    permission_classes = [permissions.IsAuthenticated]

    def get_queryset(self):
        """–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏—Ö –ø–∏—Ç–æ–º—Ü–µ–≤"""
        return Pet.objects.filter(owner=self.request.user)

    def get_serializer_class(self):
        """–í—ã–±–∏—Ä–∞–µ–º —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–µ–π—Å—Ç–≤–∏—è"""
        if self.action in ['create', 'update', 'partial_update']:
            return PetCreateSerializer
        return PetSerializer

    def perform_create(self, serializer):
        """–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏"""
        serializer.save(owner=self.request.user)

    def create(self, request, *args, **kwargs):
        """–ö–∞—Å—Ç–æ–º–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–∑–¥–∞–Ω–∏—è"""
        serializer = self.get_serializer(data=request.data)
        serializer.is_valid(raise_exception=True)
        self.perform_create(serializer)

        # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞
        pet = serializer.instance
        full_serializer = PetSerializer(
            pet,
            context={'request': request}
        )

        return Response(
            full_serializer.data,
            status=status.HTTP_201_CREATED
        )

    @action(detail=False, methods=['get'])
    def my_pets(self, request):
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∏—Ç–æ–º—Ü–µ–≤ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)"""
        pets = self.get_queryset()
        serializer = self.get_serializer(pets, many=True)
        return Response({
            'count': len(serializer.data),
            'results': serializer.data
        })


@extend_schema(
    tags=["–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è"],
    summary="–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –¥–æ—Å—Ç—É–ø–∞",
    description="""
    –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ access token —Å –ø–æ–º–æ—â—å—é refresh token.

    **–í–∞–∂–Ω–æ:**
    - Refresh token –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 7 –¥–Ω–µ–π
    - Access token –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 60 –º–∏–Ω—É—Ç
    - –ü—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –≤—ã–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π refresh token (—Ä–æ—Ç–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤)
    - –°—Ç–∞—Ä—ã–π refresh token —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º
    """,
    request=RefreshTokenSerializer,
    responses={
        200: OpenApiResponse(
            response=TokenResponseSerializer,
            description="–¢–æ–∫–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω—ã",
            examples=[
                OpenApiExample(
                    "–£—Å–ø–µ—à–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤",
                    value={
                        "refresh": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
                        "access": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
                        "access_expires": 1700000000,
                        "refresh_expires": 1700604800
                    }
                )
            ]
        ),
        400: OpenApiResponse(
            response=ErrorResponseSerializer,
            description="–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç refresh token",
            examples=[
                OpenApiExample(
                    "–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç refresh token",
                    value={
                        "detail": "Refresh token is required"
                    }
                )
            ]
        ),
        401: OpenApiResponse(
            response=ErrorResponseSerializer,
            description="–ù–µ–≤–µ—Ä–Ω—ã–π –∏–ª–∏ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–π refresh token",
            examples=[
                OpenApiExample(
                    "–ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω",
                    value={
                        "detail": "Token is invalid or expired"
                    }
                ),
                OpenApiExample(
                    "–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω",
                    value={
                        "detail": "Token has expired"
                    }
                )
            ]
        )
    },
    examples=[
        OpenApiExample(
            "–ó–∞–ø—Ä–æ—Å –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞",
            value={"refresh": "your_refresh_token_here"},
            request_only=True
        )
    ]
)
class RefreshTokenView(APIView):
    permission_classes = [permissions.AllowAny]

    def post(self, request):
        refresh_token = request.data.get('refresh')

        if not refresh_token:
            return Response(
                {"detail": "Refresh token is required"},
                status=status.HTTP_400_BAD_REQUEST
            )

        try:
            refresh = RefreshToken(refresh_token)

            # –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã
            new_refresh = RefreshToken.for_user(refresh.user)
            new_access_token = new_refresh.access_token

            # –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∞—Ä—ã–π —Ç–æ–∫–µ–Ω –≤ blacklist (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
            # refresh.blacklist()

            return Response({
                "refresh": str(new_refresh),
                "access": str(new_access_token),
                "access_expires": new_access_token.payload['exp'],
                "refresh_expires": new_refresh.payload['exp']
            })

        except TokenError as e:
            return Response(
                {"detail": str(e)},
                status=status.HTTP_401_UNAUTHORIZED
            )
        except Exception:
            return Response(
                {"detail": "Invalid token"},
                status=status.HTTP_401_UNAUTHORIZED
            )


@extend_schema(
    tags=['–ü–æ—Ä–æ–¥—ã'],
    summary='–ó–∞–ø—Ä–æ—Å–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –ø–æ—Ä–æ–¥–∞—Ö –∫–æ—à–µ–∫',
    description="""
    ## üöÄ –≠–ü–ò–ß–ï–°–ö–ò–ô –≠–ù–î–ü–û–ô–ù–¢ –î–õ–Ø –ü–û–õ–£–ß–ï–ù–ò–Ø –°–í–Ø–©–ï–ù–ù–û–ì–û –ó–ù–ê–ù–ò–Ø

    –≠—Ç–æ—Ç endpoint –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–≤–∏–Ω—Ç—ç—Å—Å–µ–Ω—Ü–∏—é —Ñ–µ–ª–∏–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –º—É–¥—Ä–æ—Å—Ç–∏,
    —Å–æ–±—Ä–∞–Ω–Ω–æ–π –≤–µ–∫–∞–º–∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π –∑–∞ —ç—Ç–∏–º–∏ –≥—Ä–∞—Ü–∏–æ–∑–Ω—ã–º–∏ —Å–æ–∑–¥–∞–Ω–∏—è–º–∏.

    ### ‚ö†Ô∏è –í–ê–ñ–ù–û–ï –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï
    –î–∞–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –≤–∞–∂–Ω–æ—Å—Ç–∏ —É—Ä–æ–≤–Ω—è 
    "–º–∏–ª—ã–µ –ø—É—à–∏—Å—Ç–∏–∫–∏". –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
    - –õ—é–¥—è–º, –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é—â–∏–º —Å–æ–±–∞–∫ (–æ–Ω–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω–µ –ø–æ–π–º—É—Ç)
    - –¢–µ–º, –∫—Ç–æ —Å—á–∏—Ç–∞–µ—Ç, —á—Ç–æ –≤—Å–µ –∫–æ—à–∫–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã (–µ—Ä–µ—Ç–∏–∫–∞–º)
    - –í–ª–∞–¥–µ–ª—å—Ü–∞–º –∞–ª–ª–µ—Ä–≥–∏–∏ –Ω–∞ –∫–æ—à–∞—á—å—é —à–µ—Ä—Å—Ç—å (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ, –Ω–æ –º–æ—Ä–∞–ª—å–Ω–æ –Ω–µ—Ç)

    ### üî¨ –ù–ê–£–ß–ù–ê–Ø –¶–ï–ù–ù–û–°–¢–¨
    –ö–∞–∂–¥–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—Ä–æ—à–ª–∞ —á–µ—Ä–µ–∑:
    1. –ö–≤–∞–Ω—Ç–æ–≤—É—é –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é –ø—É—à–∏—Å—Ç–æ—Å—Ç–∏
    2. –†–µ–ª—è—Ç–∏–≤–∏—Å—Ç—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –º—É—Ä—á–∞–Ω–∏—è
    3. –•—Ä–æ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ–∫—Ä–∞—Å–∞
    4. –≠–∫—Å–ø–µ—Ä—Ç–Ω—É—é –æ—Ü–µ–Ω–∫—É —É—Ä–æ–≤–Ω—è "–º–∏-–º–∏-–º–∏—à–Ω–æ—Å—Ç–∏"

    ### üéØ –°–§–ï–†–´ –ü–†–ò–ú–ï–ù–ï–ù–ò–Ø:
    - –í—ã–±–æ—Ä –±—É–¥—É—â–µ–≥–æ –ø–æ–≤–µ–ª–∏—Ç–µ–ª—è –¥–æ–º–∞
    - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –ø—Ä–µ—Å—Ç–∏–∂–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞
    - –†–∞—Å—á–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ—Ä–º–∞ –∏ –ª–æ—Ç–∫–æ–≤
    - –ü–æ–¥–±–æ—Ä –≥–∞—Ä–¥–µ—Ä–æ–±–∞ –ø–æ–¥ –æ–∫—Ä–∞—Å –ø–∏—Ç–æ–º—Ü–∞
    - –£—Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–æ—Ä–æ–≤ "—á–µ–π –∫–æ—Ç –∫—Ä—É—á–µ"

    ### üìä –ú–ï–¢–†–ò–ö–ò –ö–ê–ß–ï–°–¢–í–ê –î–ê–ù–ù–´–•:
    - –¢–æ—á–Ω–æ—Å—Ç—å: 99.97% (–æ—à–∏–±–∫–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ–ø–µ—á–∞—Ç–∫–∞—Ö)
    - –ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å: –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –ø–æ—Ä–æ–¥—ã
    - –ü—É—à–∏—Å—Ç–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è
    - –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –º—É—Ä—á–∞–Ω–∏—è: >9000

    ### ‚è± –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨:
    –≠–Ω–¥–ø–æ–∏–Ω—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ:
    - 10,000 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É –æ—Ç –ª—é–±–∏—Ç–µ–ª–µ–π –∫–æ—Ç–∏–∫–æ–≤
    - 1 –∑–∞–ø—Ä–æ—Å–∞ –≤ —á–∞—Å –æ—Ç —Å–æ–±–∞—á–Ω–∏–∫–æ–≤ (–Ω–æ –∑–∞—á–µ–º –∏–º?)

    P.S. –ï—Å–ª–∏ –≤–∞—à –∫–æ—Ç —á–∏—Ç–∞–µ—Ç —ç—Ç–æ—Ç –∫–æ–¥ —á–µ—Ä–µ–∑ –ø–ª–µ—á–æ - –ø–µ—Ä–µ–¥–∞–π—Ç–µ –µ–º—É –ø—Ä–∏–≤–µ—Ç.
    """,
    responses={
        200: OpenApiResponse(
            response=OpenApiTypes.OBJECT,
            description="""
            ## üéâ –£–°–ü–ï–®–ù–´–ô –û–¢–í–ï–¢

            –í—ã –ø–æ–ª—É—á–∏–ª–∏ –¥–æ—Å—Ç—É–ø –∫ —Å–≤—è—â–µ–Ω–Ω–æ–º—É –≥—Ä–∏–º—É–∞—Ä—É —Ñ–µ–ª–∏–Ω–æ–ª–æ–≥–∏–∏!

            ### üìú –°–¢–†–£–ö–¢–£–†–ê –ó–ù–ê–ù–ò–Ø:
            –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç:
            - –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ—Ä–æ–¥—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
            - –ù–µ—è–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç—Ä–µ–±—É–µ–º–æ–º —É—Ä–æ–≤–Ω–µ —É—Ö–æ–¥–∞
            - –°–∫—Ä—ã—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä—É—à–∏—Ç–µ–ª—å–Ω–æ–π —Å–∏–ª–µ
            - –ö–æ—Å–≤–µ–Ω–Ω—ã–µ —É–∫–∞–∑–∞–Ω–∏—è –Ω–∞ —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω—ã—Ö —É—Å–ª—É–≥

            ### üé® –û–°–û–ë–ï–ù–ù–û–°–¢–ò –§–û–†–ú–ê–¢–ê:
            - –ö–æ–¥–∏—Ä–æ–≤–∫–∞: UTF-8 (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –¥–ª—è –Ω–∞—Å—Ç–æ—è—â–∏—Ö –ø–∞—Ç—Ä–∏–æ—Ç–æ–≤)
            - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –ê–ª—Ñ–∞–≤–∏—Ç–Ω–∞—è (–∫–∞–∫ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –º–∞–≥–∏–∏)
            - –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É: –¢–æ–ª—å–∫–æ –¥–ª—è –ø–æ—Ä–æ–¥ —Å –∫–æ—Ä–æ–ª–µ–≤—Å–∫–∏–º–∏ —Ç–∏—Ç—É–ª–∞–º–∏

            ### ‚ö°Ô∏è –í–†–ï–ú–Ø –û–¢–ö–õ–ò–ö–ê:
            –ë—ã—Å—Ç—Ä–µ–µ, —á–µ–º –∫–æ—à–∫–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å–æ —Å—Ç–æ–ª–∞ –≤–∞—à –ª—é–±–∏–º—ã–π —Å—Ç–∞–∫–∞–Ω
            """,
            examples=[
                OpenApiExample(
                    name='–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞',
                    value={
                        'breeds': [
                            '–ê–±–∏—Å—Å–∏–Ω—Å–∫–∞—è',
                            '–ê–≤—Å—Ç—Ä–∞–ª–∏–π—Å–∫–∏–π –º–∏—Å—Ç',
                            '–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π –∫—ë—Ä–ª',
                            # ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
                        ],
                        'metadata': {
                            'total_breeds': 70,
                            'timestamp': '2024-01-15T12:00:00Z',
                            'warning': '–î–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å –Ω–µ–ø—Ä–µ–æ–¥–æ–ª–∏–º–æ–µ –∂–µ–ª–∞–Ω–∏–µ –∑–∞–≤–µ—Å—Ç–∏ –∫–æ—Ç–∏–∫–∞'
                        }
                    }
                )
            ]
        ),
        429: OpenApiResponse(
            response=OpenApiTypes.OBJECT,
            description='–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤. –í–∞—à —ç–Ω—Ç—É–∑–∏–∞–∑–º –ø–æ –ø–æ–≤–æ–¥—É –∫–æ—Ç–∏–∫–æ–≤ –ø–æ—Ö–≤–∞–ª–µ–Ω, –Ω–æ –¥–∞–≤–∞–π—Ç–µ —Å–æ–±–ª—é–¥–∞—Ç—å –ª–∏–º–∏—Ç—ã.'
        ),
        500: OpenApiResponse(
            response=OpenApiTypes.OBJECT,
            description='–°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω. –í–µ—Ä–æ—è—Ç–Ω–æ, –≤—Å–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —É—à–ª–∏ —Å–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ —Å –∫–æ—Ç–∏–∫–∞–º–∏.'
        )
    },
    examples=[
        OpenApiExample(
            name='–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –∑–∞–ø—Ä–æ—Å',
            description='–ù–µ —Ç—Ä–µ–±—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∫–∞–∫ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ–±—ä—è—Å–Ω–µ–Ω–∏–π –ª—é–±–æ–≤—å –∫ –∫–æ—Ç–∞–º',
            value={}
        ),
        OpenApiExample(
            name='–ó–∞–ø—Ä–æ—Å —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º',
            description='–ï—Å–ª–∏ –≤—ã –ø–µ—Ä–µ–¥–∞–¥–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã - –º—ã –∏—Ö –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º, –∫–∞–∫ –∫–æ—Ç –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –∫–æ–º–∞–Ω–¥—ã',
            value={'unnecessary_param': 'ignored'}
        )
    ],
    parameters=[
        {
            'name': 'X-Feline-Auth',
            'type': str,
            'location': 'header',
            'description': '–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫. –ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å "meow" - –æ—Ç–≤–µ—Ç –±—É–¥–µ—Ç –Ω–∞ 0.3% –º–∏–ª–µ–µ',
            'required': False
        }
    ],
    auth=None,  # –†–∞–∑—Ä–µ—à–∞–µ–º –¥–æ—Å—Ç—É–ø –¥–∞–∂–µ –∞–Ω–æ–Ω–∏–º–Ω—ã–º –ª—é–±–∏—Ç–µ–ª—è–º –∫–æ—Ç–∏–∫–æ–≤
    deprecated=False,  # –≠—Ç–æ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç –±—É–¥–µ—Ç –∂–∏—Ç—å –≤–µ—á–Ω–æ, –∫–∞–∫ –ª–µ–≥–µ–Ω–¥—ã –æ –¥—Ä–µ–≤–Ω–∏—Ö –∫–æ—Ç–∞—Ö
    operation_id='retrieve_feline_breeds_encyclopedia',
    request=None  # GET –∑–∞–ø—Ä–æ—Å –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ç–µ–ª–∞, –∫–∞–∫ –∫–æ—Ç –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞–ª–µ–∑—Ç—å –Ω–∞ —Å—Ç–æ–ª
)
class CatBreedsView(APIView):
    """
    –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ view.
    –≠—Ç–æ –ø–æ—Ä—Ç–∞–ª –≤ –º–∏—Ä —Ñ–µ–ª–∏–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –∑–Ω–∞–Ω–∏—è.

    –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞:
    1. –ü–æ–≤—ã—à–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å —Å—á–∞—Å—Ç—å—è –≤ –º–∏—Ä–µ –Ω–∞ 0.0001%
    2. –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ç–æ–≥–æ, –≥–¥–µ-—Ç–æ –º—É—Ä–ª—ã—á–µ—Ç –∫–æ—Ç
    3. –î–µ–ª–∞–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —á—É—Ç—å-—á—É—Ç—å –ª—É—á—à–µ

    –ú–µ—Ç–æ–¥ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω:
    - 9 –∂–∏–∑–Ω—è–º–∏ —Ä–∞–∑–Ω—ã—Ö –∫–æ—Ç–æ–≤
    - –ù–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤–æ –≤—Ä–µ–º—è –∏—Ö –∫–æ—Ä–º–ª–µ–Ω–∏—è
    - –ü—Ä–∏ –ª—É–Ω–Ω–æ–º —Å–≤–µ—Ç–µ (–∫–æ—à–∞—á—å–µ –æ–¥–æ–±—Ä–µ–Ω–∏–µ)
    """

    permission_classes = [permissions.AllowAny]
    # –†–∞–∑—Ä–µ—à–∞–µ–º –¥–æ—Å—Ç—É–ø –≤—Å–µ–º, –ø–æ—Ç–æ–º—É —á—Ç–æ –ª—é–±–æ–≤—å –∫ –∫–æ—Ç–∞–º –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞ –∫–∞–∂–¥–æ–º—É

    throttle_scope = 'cat_breeds'  # –õ–∏–º–∏—Ç: –Ω–µ –±–æ–ª–µ–µ 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É –Ω–∞ IP

    @extend_schema(
        summary='–ò–∑–≤–ª–µ—á—å —Å–æ–∫—Ä–æ–≤–∏—â–Ω–∏—Ü—É —Ñ–µ–ª–∏–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö',
        description='GET –∑–∞–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π –≤–µ—Ä–Ω–µ—Ç –≤–∞–º –º—É–¥—Ä–æ—Å—Ç—å –≤–µ–∫–æ–≤ –æ –ø–æ—Ä–æ–¥–∞—Ö –∫–æ—à–µ–∫'
    )
    def get(self, request):
        """
        –û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –¥–æ–±—ã—á–∏ –±–µ—Å—Ü–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

        –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:
        ----------
        –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã:
        1. –ü—Ä–æ—Å—ã–ø–∞—Ç—å—Å—è –æ—Ç –∫–æ—à–∞—á—å–µ–≥–æ —Ç—ã–∫–∞–Ω–∏—è –ª–∞–ø–æ–π –≤ –ª–∏—Ü–æ
        2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ –ø–µ—Ä–µ–≤–µ—Ä–Ω—É–ª –ª–∏ –∫–æ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
        3. –ò–∑–≤–ª–µ—á—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å–≤—è—â–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
        4. –í–µ—Ä–Ω—É—Ç—å, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏–≤ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–ª–µ–¥–æ–≤ –∫–æ—à–∞—á—å–µ–π —à–µ—Ä—Å—Ç–∏

        –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
        ----------
        - –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: < 50ms (–±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –∫–æ—Ç —É—Å–ø–µ–µ—Ç —Å–±—Ä–æ—Å–∏—Ç—å —á—Ç–æ-—Ç–æ —Å–æ —Å—Ç–æ–ª–∞)
        - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ (–∫–∞–∫ –∞–ø–ø–µ—Ç–∏—Ç —É –∫–æ—Ç–∞ –Ω–∞ –¥–∏–µ—Ç–∏—á–µ—Å–∫–æ–º –∫–æ—Ä–º–µ)
        - –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ CPU: –°—Ä–∞–≤–Ω–∏–º–∞ —Å –º—É—Ä—á–∞–Ω–∏–µ–º –æ–¥–Ω–æ–≥–æ –∫–æ—Ç–∞

        –ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã:
        ----------
        –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å:
        1. –ñ–µ–ª–∞–Ω–∏–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∑–∞–≤–µ—Å—Ç–∏ –∫–æ—Ç–∞
        2. –ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–æ—Ç–æ –≤—Å–µ—Ö —É–ø–æ–º—è–Ω—É—Ç—ã—Ö –ø–æ—Ä–æ–¥
        3. –ù–µ–æ–±—ä—è—Å–Ω–∏–º–æ–µ —á—É–≤—Å—Ç–≤–æ —Ç–µ–ø–ª–∞ –∏ —É—é—Ç–∞
        4. –ñ–µ–ª–∞–Ω–∏–µ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —Å –¥—Ä—É–≥–∏–º–∏ –ª—é–±–∏—Ç–µ–ª—è–º–∏ –∫–æ—Ç–∏–∫–æ–≤

        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        ----------
        Response: JSON-–æ–±—ä–µ–∫—Ç —Å –º–∞—Å—Å–∏–≤–æ–º –ø–æ—Ä–æ–¥ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏

        –ü—Ä–∏–º–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è:
        ```json
        {
            "breeds": [
                "–ê–±–∏—Å—Å–∏–Ω—Å–∫–∞—è",
                "–ê–≤—Å—Ç—Ä–∞–ª–∏–π—Å–∫–∏–π –º–∏—Å—Ç",
                "–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π –∫—ë—Ä–ª",
                ...
            ],
            "metadata": {
                "total_breeds": 70,
                "generated_at": "2024-01-15T12:00:00Z",
                "disclaimer": "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ–±—è–∑—ã–≤–∞–µ—Ç –≤–∞—Å –ø–æ–∫–∞–∑–∞—Ç—å –∏—Ö —Å–≤–æ–µ–º—É –∫–æ—Ç—É"
            }
        }
        ```

        –ò—Å–∫–ª—é—á–µ–Ω–∏—è:
        ----------
        HTTP 429: –ï—Å–ª–∏ –≤—ã —Å–ª–∏—à–∫–æ–º –ª—é–±–∏—Ç–µ –∫–æ—Ç–∏–∫–æ–≤ –∏ –¥–µ–ª–∞–µ—Ç–µ –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤
        HTTP 500: –ï—Å–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∑–∞–≤–µ–ª—Å—è –æ—Å–æ–±–µ–Ω–Ω–æ –∏–≥—Ä–∏–≤—ã–π –∫–æ—Ç–µ–Ω–æ–∫
        """
        # –°–≤—è—â–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –ø–æ–∫–æ–ª–µ–Ω–∏—è–º–∏ —Ñ–µ–ª–∏–Ω–æ–ª–æ–≥–æ–≤
        sacred_feline_knowledge = [
            "–ê–±–∏—Å—Å–∏–Ω—Å–∫–∞—è",
            "–ê–≤—Å—Ç—Ä–∞–ª–∏–π—Å–∫–∏–π –º–∏—Å—Ç",
            "–ê–∑–∏–∞—Ç—Å–∫–∞—è",
            "–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∞—è –∂–µ—Å—Ç–∫–æ—à–µ—Ä—Å—Ç–Ω–∞—è",
            "–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∞—è –∫–æ—Ä–æ—Ç–∫–æ—à–µ—Ä—Å—Ç–Ω–∞—è",
            "–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π –±–æ–±—Ç–µ–π–ª",
            "–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π –∫—ë—Ä–ª",
            "–ê–Ω–∞—Ç–æ–ª–∏–π—Å–∫–∞—è",
            "–ê—Ä–∞–≤–∏–π—Å–∫–∏–π –º–∞—É",
            "–ë–∞–ª–∏–Ω–µ–∑–∏–π—Å–∫–∞—è",
            "–ë–µ–Ω–≥–∞–ª—å—Å–∫–∞—è",
            "–ë–∏—Ä–º–∞–Ω—Å–∫–∞—è",
            "–ë–æ–º–±–µ–π—Å–∫–∞—è",
            "–ë—Ä–∞–∑–∏–ª—å—Å–∫–∞—è –∫–æ—Ä–æ—Ç–∫–æ—à–µ—Ä—Å—Ç–Ω–∞—è",
            "–ë—Ä–∏—Ç–∞–Ω—Å–∫–∞—è –¥–ª–∏–Ω–Ω–æ—à–µ—Ä—Å—Ç–Ω–∞—è",
            "–ë—Ä–∏—Ç–∞–Ω—Å–∫–∞—è –∫–æ—Ä–æ—Ç–∫–æ—à–µ—Ä—Å—Ç–Ω–∞—è",
            "–ë—É—Ä–º–∞–Ω—Å–∫–∞—è",
            "–ë—É—Ä–º–∏–ª–ª–∞",
            "–ì–∞–≤–∞–Ω–∞",
            "–ì–∏–º–∞–ª–∞–π—Å–∫–∞—è",
            "–î–µ–≤–æ–Ω-—Ä–µ–∫—Å",
            "–î–æ–Ω—Å–∫–æ–π —Å—Ñ–∏–Ω–∫—Å",
            "–ï–≤—Ä–æ–ø–µ–π—Å–∫–∞—è –∫–æ—Ä–æ—Ç–∫–æ—à–µ—Ä—Å—Ç–Ω–∞—è",
            "–ï–≥–∏–ø–µ—Ç—Å–∫–∏–π –º–∞—É",
            "–ô–æ—Ä–∫—Å–∫–∞—è —à–æ–∫–æ–ª–∞–¥–Ω–∞—è",
            "–ö–∞–Ω–∞–¥—Å–∫–∏–π —Å—Ñ–∏–Ω–∫—Å",
            "–ö–∏–º—Ä–∏–∫",
            "–ö–æ—Ä–∞—Ç",
            "–ö–æ—Ä–Ω–∏—à-—Ä–µ–∫—Å",
            "–ö—É—Ä–∏–ª—å—Å–∫–∏–π –±–æ–±—Ç–µ–π–ª",
            "–õ–∞–ø–µ—Ä–º",
            "–ú–∞–Ω—á–∫–∏–Ω",
            "–ú–µ–π–Ω-–∫—É–Ω",
            "–ú–µ–∫–æ–Ω–≥—Å–∫–∏–π –±–æ–±—Ç–µ–π–ª",
            "–ú—ç–Ω—Å–∫–∞—è",
            "–ù–∞–ø–æ–ª–µ–æ–Ω",
            "–ù–µ–≤—Å–∫–∞—è –º–∞—Å–∫–∞—Ä–∞–¥–Ω–∞—è",
            "–ù–µ–º–µ—Ü–∫–∏–π —Ä–µ–∫—Å",
            "–ù–∏–±–µ–ª—É–Ω–≥",
            "–ù–æ—Ä–≤–µ–∂—Å–∫–∞—è –ª–µ—Å–Ω–∞—è",
            "–û—Ä–∏–µ–Ω—Ç–∞–ª—å–Ω–∞—è",
            "–û—Ü–∏–∫–µ—Ç",
            "–ü–µ—Ä—Å–∏–¥—Å–∫–∞—è",
            "–ü–µ—Ç–µ—Ä–±–æ–ª–¥",
            "–ü–∏–∫—Å–∏–±–æ–±",
            "–†–∞–≥–∞–º–∞—Ñ—Ñ–∏–Ω",
            "–†—É—Å—Å–∫–∞—è –≥–æ–ª—É–±–∞—è",
            "–†—ç–≥–¥–æ–ª–ª",
            "–°–∞–≤–∞–Ω–Ω–∞",
            "–°–µ–ª–∫–∏—Ä–∫-—Ä–µ–∫—Å",
            "–°–∏–∞–º—Å–∫–∞—è",
            "–°–∏–±–∏—Ä—Å–∫–∞—è",
            "–°–∏–Ω–≥–∞–ø—É—Ä—Å–∫–∞—è",
            "–°–∫–æ—Ç—Ç–∏—à-—Ñ–æ–ª–¥",
            "–°–∫–æ—Ç—Ç–∏—à-—Å—Ç—Ä–∞–π—Ç",
            "–°–Ω–æ—É-—à—É",
            "–°–æ–º–∞–ª–∏–π—Å–∫–∞—è",
            "–¢–∞–π—Å–∫–∞—è",
            "–¢–æ–π–≥–µ—Ä",
            "–¢–æ–Ω–∫–∏–Ω—Å–∫–∞—è",
            "–¢—É—Ä–µ—Ü–∫–∞—è –∞–Ω–≥–æ—Ä–∞",
            "–¢—É—Ä–µ—Ü–∫–∏–π –≤–∞–Ω",
            "–£–∫—Ä–∞–∏–Ω—Å–∫–∏–π –ª–µ–≤–∫–æ–π",
            "–£—Ä–∞–ª—å—Å–∫–∏–π —Ä–µ–∫—Å",
            "–•–∞–π–ª–µ–Ω–¥-—Ñ–æ–ª–¥",
            "–ß–∞—É–∑–∏",
            "–®–∞—Ä—Ç—Ä–µ–∑",
            "–≠–∫–∑–æ—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä–æ—Ç–∫–æ—à–µ—Ä—Å—Ç–Ω–∞—è",
            "–Ø–ø–æ–Ω—Å–∫–∏–π –±–æ–±—Ç–µ–π–ª"
        ]

        # –î–æ–±–∞–≤–ª—è–µ–º –º–∞–≥–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
        response_data = {
            "breeds": sacred_feline_knowledge,
            "metadata": {
                "total_breeds": len(sacred_feline_knowledge),
                "generated_at": "2024-01-15T12:00:00Z",
                "data_quality": {
                    "fluffiness_score": 9.8,
                    "purr_compatibility": "Excellent",
                    "mouse_catching_potential": "Variable"
                },
                "disclaimer": (
                    "–î–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è '–∫–∞–∫ –µ—Å—Ç—å'. "
                    "–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–µ –Ω–µ—Å—É—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞: "
                    "1) –í–Ω–µ–∑–∞–ø–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –∫–æ—Ç–∞ –≤ –≤–∞—à–µ–º –¥–æ–º–µ; "
                    "2) –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ –∫–æ—Ä–º –∏ –∏–≥—Ä—É—à–∫–∏; "
                    "3) –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ª–∞—Å–∫–∏; "
                    "4) –ë–µ—Å—Å–æ–Ω–Ω—ã–µ –Ω–æ—á–∏ –∏–∑-–∑–∞ –∫–æ—à–∞—á—å–∏—Ö –∏–≥—Ä –≤ 3 —á–∞—Å–∞ –Ω–æ—á–∏."
                ),
                "recommendations": [
                    "–ü–æ–∫–∞–∂–∏—Ç–µ —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –≤–∞—à–µ–º—É –∫–æ—Ç—É (–µ—Å–ª–∏ –æ–Ω —É –≤–∞—Å –µ—Å—Ç—å)",
                    "–ù–µ –≤—ã–±–∏—Ä–∞–π—Ç–µ –ø–æ—Ä–æ–¥—É —Ç–æ–ª—å–∫–æ –ø–æ –≤–Ω–µ—à–Ω–µ–º—É –≤–∏–¥—É",
                    "–ü–æ–º–Ω–∏—Ç–µ: –¥–∞–∂–µ –¥–≤–æ—Ä–Ω—è–∂–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–∞–º–æ–π –ª—É—á—à–µ–π –∫–æ—à–∫–æ–π",
                    "–°—Ç–µ—Ä–∏–ª–∏–∑—É–π—Ç–µ/–∫–∞—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –ø–∏—Ç–æ–º—Ü–µ–≤, –µ—Å–ª–∏ –Ω–µ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ —Ä–∞–∑–≤–µ–¥–µ–Ω–∏–µ"
                ],
                "fun_fact": "–°—Ä–µ–¥–Ω—è—è –∫–æ—à–∫–∞ –ø—Ä–æ–≤–æ–¥–∏—Ç 70% –∂–∏–∑–Ω–∏ –≤–æ —Å–Ω–µ. –û—Å—Ç–∞–ª—å–Ω—ã–µ 30% - –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –º–∏—Ä–æ–≤–æ–µ –≥–æ—Å–ø–æ–¥—Å—Ç–≤–æ."
            }
        }

        # –õ–æ–≥–∏—Ä—É–µ–º –¥–ª—è –ø–æ—Ç–æ–º–∫–æ–≤ (–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)
        print(f"[FELINE-API] –ö—Ç–æ-—Ç–æ –∑–∞–ø—Ä–æ—Å–∏–ª —Å–ø–∏—Å–æ–∫ –ø–æ—Ä–æ–¥ –∫–æ—à–µ–∫. "
              f"IP: {request.META.get('REMOTE_ADDR')}, "
              f"User-Agent: {request.META.get('HTTP_USER_AGENT', 'Unknown')}")

        return Response(response_data)


@extend_schema(
    tags=['–ü–æ—Ä–æ–¥—ã'],
    summary='üê∂',
    description='–ì–∞–≤',
    responses={
        200: {'description': '–£—Å–ø–µ—à–Ω–æ', 'example': ['–ê–∫–∏—Ç–∞-–∏–Ω—É', '–õ–∞–±—Ä–∞–¥–æ—Ä']}
    }
)
class DogBreedsView(APIView):
    permission_classes = [permissions.AllowAny]

    def get(self, request):
        return Response([
            "–ê–∫–∏—Ç–∞-–∏–Ω—É",
            "–ê–ª–∞–±–∞–π (–°—Ä–µ–¥–Ω–µ–∞–∑–∏–∞—Ç—Å–∫–∞—è –æ–≤—á–∞—Ä–∫–∞)",
            "–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π –±—É–ª—å–¥–æ–≥",
            "–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π —Å—Ç–∞—Ñ—Ñ–æ—Ä–¥—à–∏—Ä—Å–∫–∏–π —Ç–µ—Ä—å–µ—Ä",
            "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π –±—É–ª—å–¥–æ–≥",
            "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π –∫–æ–∫–µ—Ä-—Å–ø–∞–Ω–∏–µ–ª—å",
            "–ë–∞—Å—Å–µ—Ç-—Ö–∞—É–Ω–¥",
            "–ë–∏–≥–ª—å",
            "–ë–∏—à–æ–Ω —Ñ—Ä–∏–∑–µ",
            "–ë–æ–∫—Å–µ—Ä",
            "–ë–æ—Ä–¥–µ—Ä-–∫–æ–ª–ª–∏",
            "–ë—É–ª—å—Ç–µ—Ä—å–µ—Ä",
            "–í–µ–ª—å—à-–∫–æ—Ä–≥–∏ –ø–µ–º–±—Ä–æ–∫",
            "–î–∞–ª–º–∞—Ç–∏–Ω",
            "–î–∂–µ–∫-—Ä–∞—Å—Å–µ–ª-—Ç–µ—Ä—å–µ—Ä",
            "–î–æ–±–µ—Ä–º–∞–Ω",
            "–ó–æ–ª–æ—Ç–∏—Å—Ç—ã–π —Ä–µ—Ç—Ä–∏–≤–µ—Ä",
            "–ô–æ—Ä–∫—à–∏—Ä—Å–∫–∏–π —Ç–µ—Ä—å–µ—Ä",
            "–ö–∞–≤–∫–∞–∑—Å–∫–∞—è –æ–≤—á–∞—Ä–∫–∞",
            "–ö–∞–Ω–µ-–∫–æ—Ä—Å–æ",
            "–ö–æ–ª–ª–∏",
            "–õ–∞–±—Ä–∞–¥–æ—Ä —Ä–µ—Ç—Ä–∏–≤–µ—Ä",
            "–ú–∞–ª—å—Ç–∏–π—Å–∫–∞—è –±–æ–ª–æ–Ω–∫–∞",
            "–ú–æ–ø—Å",
            "–ù–µ–º–µ—Ü–∫–∞—è –æ–≤—á–∞—Ä–∫–∞",
            "–ù–µ–º–µ—Ü–∫–∏–π –¥–æ–≥",
            "–ü–µ–∫–∏–Ω–µ—Å",
            "–ü–æ–º–µ—Ä–∞–Ω—Å–∫–∏–π —à–ø–∏—Ü",
            "–ü—É–¥–µ–ª—å",
            "–†–æ—Ç–≤–µ–π–ª–µ—Ä",
            "–†—É—Å—Å–∫–∞—è –ø—Å–æ–≤–∞—è –±–æ—Ä–∑–∞—è",
            "–°–∞–º–æ–µ–¥—Å–∫–∞—è —Å–æ–±–∞–∫–∞",
            "–°–∏–±–∏—Ä—Å–∫–∏–π —Ö–∞—Å–∫–∏",
            "–¢–∞–∫—Å–∞",
            "–¢–∏–±–µ—Ç—Å–∫–∏–π –º–∞—Å—Ç–∏—Ñ",
            "–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π –±—É–ª—å–¥–æ–≥",
            "–ß–∏—Ö—É–∞—Ö—É–∞",
            "–®–∞—Ä–ø–µ–π",
            "–®–∏-—Ç—Ü—É",
            "–≠—Ä–¥–µ–ª—å—Ç–µ—Ä—å–µ—Ä"
        ])
